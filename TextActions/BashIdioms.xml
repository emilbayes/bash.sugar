<?xml version="1.0" encoding="UTF-8"?>
<action-recipes>

    <!-- This *should* work but potentially crashes Espresso… -->
    <!-- Also, FILENAME seems to only be defined for scripts, not snippets… -->
    <!-- <action id="org.purl.net.bash.idioms.tempfile" category="actions.Text">
        <class>TEAforEspresso</class>
        <title>tempfile</title>
        <text-trigger>temp</text-trigger>
        <setup>
            <action>insert_snippet</action>
            <syntax-context>bash, bash *</syntax-context>
            <options>
                <dict>
                    <key>default</key>
                    <string><![CDATA[${1:TMPFILE}="$(mktemp -t ${2:`echo "${FILENAME%.*}" | sed -e 's/[^a-zA-Z]/_/g' -e 's/^$/untitled/'`})"
${3:${4/(.+)/trap "/}${4:rm -f '\$${1/.*\s//}'}${4/(.+)/" 0               # EXIT
/}${5/(.+)/trap "/}${5:rm -f '\$${1/.*\s//}'; exit 1}${5/(.+)/" 2       # INT
/}${6/(.+)/trap "/}${6:rm -f '\$${1/.*\s//}'; exit 1}${6/(.+)/" 1 15    # HUP TERM
/}}
]]></string>
                </dict>
            </options>
        </setup>
    </action> -->

</action-recipes>